(function(e){function t(t){for(var n,i,a=t[0],l=t[1],u=t[2],d=0,m=[];d<a.length;d++)i=a[d],o[i]&&m.push(o[i][0]),o[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);c&&c(t);while(m.length)m.shift()();return r.push.apply(r,u||[]),s()}function s(){for(var e,t=0;t<r.length;t++){for(var s=r[t],n=!0,a=1;a<s.length;a++){var l=s[a];0!==o[l]&&(n=!1)}n&&(r.splice(t--,1),e=i(i.s=s[0]))}return e}var n={},o={app:0},r=[];function i(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=n,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var c=l;r.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";var n=s("c21b"),o=s.n(n);o.a},5:function(e,t){},"56d7":function(e,t,s){"use strict";s.r(t);s("cadf"),s("551c"),s("097d");var n=s("2b0e"),o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"md-app",attrs:{id:"app"}},[s("Issues",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},r=[],i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{},[s("div",{staticClass:"md-layout"},[s("div",{staticClass:"md-layout"},[s("div",{staticClass:"md-layout-item"},[s("md-field",[s("label",{attrs:{for:"movie"}},[e._v("Org / User")]),s("md-select",{model:{value:e.orgOrUser,callback:function(t){e.orgOrUser=t},expression:"orgOrUser"}},[s("md-option",{attrs:{value:"orgs"}},[e._v("org")]),s("md-option",{attrs:{value:"users"}},[e._v("user")])],1)],1)],1),s("div",{staticClass:"md-layout-item"},[s("md-field",[s("label",[e._v("Org Name")]),s("md-input",{model:{value:e.orgName,callback:function(t){e.orgName=t},expression:"orgName"}})],1)],1),s("div",{staticClass:"md-layout-item"},[s("md-field",[s("label",[e._v("Username")]),s("md-input",{model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1)],1),s("div",{staticClass:"md-layout-item"},[s("md-field",[s("label",[e._v("Password or Token")]),s("md-input",{attrs:{type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1)])]),s("div",{staticClass:"md-layout"},[s("div",{staticClass:"md-layout-item"},[s("md-content",e._l(e.repo_list,function(t,n){return s("div",{key:n,staticStyle:{"text-align":"left","padding-left":"10px"}},[s("md-switch",{attrs:{value:"1"},model:{value:e.selected[n],callback:function(t){e.$set(e.selected,n,t)},expression:"selected[i]"}},[e._v(e._s(t.full_name)+" ")]),s("a",{staticStyle:{float:"right"},attrs:{href:"https://www.github.com/"+t.full_name,target:"_blank"}},[s("md-icon",[e._v("open_in_new")])],1)],1)}))],1),s("div",{staticClass:"md-layout-item"},[s("md-content",[s("md-field",[s("label",[e._v("Title")]),s("md-input",{model:{value:e.issue.title,callback:function(t){e.$set(e.issue,"title",t)},expression:"issue.title"}})],1),s("md-field",[s("label",[e._v("Description")]),s("md-textarea",{model:{value:e.issue.body,callback:function(t){e.$set(e.issue,"body",t)},expression:"issue.body"}})],1),s("md-chips",{attrs:{"md-placeholder":"Add labels..."},model:{value:e.issue.labels,callback:function(t){e.$set(e.issue,"labels",t)},expression:"issue.labels"}}),e._l(e.selectedRepos,function(t,n){return s("div",{key:n},[s("md-field",[s("label",[e._v("Milestone "+e._s(t.full_name))]),s("md-select",{model:{value:e.overrideMilestone[n],callback:function(t){e.$set(e.overrideMilestone,n,t)},expression:"overrideMilestone[repoId]"}},[s("md-option",{attrs:{value:""}},[e._v("None")]),e._l(e.repoMilestones[n],function(t,n){return s("md-option",{key:n,attrs:{value:t.number,"md-dense":""}},[e._v(e._s(t.title))])})],2)],1)],1)}),s("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:e.disableSave},on:{click:function(t){e.addIssue()}}},[e._v("Save")])],2)],1)]),e._l(e.results,function(t,n){return s("md-card",{key:n},[s("md-card-media",{attrs:{"md-position":"center","md-duration":t.duration,"md-active.sync":"true"}},[t.hasOwnProperty("success")?s("md-icon",{style:t.success?"color: green":"color:red"},[e._v(e._s(t.success?"check":"clear"))]):e._e(),s("span",[e._v(e._s(t.message))]),e._v(" q\n    ")],1)],1)})],2)},a=[],l=(s("f751"),s("a481"),s("ac6a"),s("456d"),s("7f7f"),{name:"",props:{msg:String},data:function(){return{orgsTimeout:!1,repo_list:{},selected:{},issue:{title:"",body:"",labels:[]},overrideMilestone:{},isSubmitting:!1,results:{},repoMilestones:{}}},watch:{},computed:{selectedRepos:function(){var e={};for(var t in this.selected)this.selected[t]&&(e[t]=this.repo_list[t],this.fetchMilestones(t,e[t].owner.login,e[t].name));return e},disableSave:function(){return this.isSubmitting||0===Object.keys(this.selected).length||""===this.issue.title.trim()},orgOrUser:{get:function(){return localStorage.getItem("orgOrUser")||"orgs"},set:function(e){localStorage.setItem("orgOrUser",e),this.fetchRepos()}},orgName:{get:function(){return localStorage.getItem("orgName")||""},set:function(e){localStorage.setItem("orgName",e),this.fetchRepos()}},username:{get:function(){return localStorage.getItem("username")||""},set:function(e){localStorage.setItem("username",e)}},password:{get:function(){return localStorage.getItem("password")||""},set:function(e){localStorage.setItem("password",e)}}},methods:{fetchMilestones:function(e,t,s){var n=this;this.$http.get("https://api.github.com/repos/".concat(t,"/").concat(s,"/milestones")).then(function(e){return e.json()},function(e){return[]}).then(function(t){n.$set(n.repoMilestones,e,t)})},addIssue:function(){var e=this;this.$set(this,"results",{}),this.isSubmitting=!0;var t="Basic ".concat(btoa(this.username+":"+this.password)),s="https://api.github.com/repos/%repoOwner/%repoName/issues",n=function(n){if(!e.selected[n])return"continue";var o=e.repo_list[n];e.$set(e.results,n,{message:"Saving issue to ".concat(o.full_name)});var r=o.owner.login,i=o.name,a=s.replace("%repoOwner",r).replace("%repoName",i),l=function(t){t=t||3500,setTimeout(function(){e.$delete(e.results,n),e.isSubmitting=!1},t)},u=Object.assign({},e.issue);e.overrideMilestone[n]&&(u.milestone=e.overrideMilestone[n]),e.$http.post(a,u,{headers:{Authorization:t}}).then(function(t){e.$set(e.results,n,{success:!0,message:"Successfully saved issue to ".concat(o.full_name)}),l()}).catch(function(t){t.json().then(function(t){e.$set(e.results,n,{success:!1,message:"There was an error saving issue to ".concat(o.full_name," ").concat(t.message)}),l(1e4)})})};for(var o in this.selected)n(o)},fetchRepos:function(){var e=this;clearTimeout(this.orgsTimeout),this.orgsTimeout=setTimeout(function(){e.orgName&&e.$http.get("https://api.github.com/".concat(e.orgOrUser,"/").concat(e.orgName,"/repos")).then(function(e){return e.json()},function(e){}).then(function(t){var s={};t.forEach(function(e){s[e.id]=e}),e.$set(e,"repo_list",s)})},500)}},created:function(){this.fetchRepos()}}),u=l,c=(s("5a0a"),s("2877")),d=Object(c["a"])(u,i,a,!1,null,"14de4c1e",null);d.options.__file="Issues.vue";var m=d.exports,f={name:"app",components:{Issues:m}},p=f,v=(s("034f"),Object(c["a"])(p,o,r,!1,null,null,null));v.options.__file="App.vue";var g=v.exports,h=s("43f9"),b=s.n(h),_=(s("51de"),s("0759"),s("28dd"));n["default"].config.productionTip=!1,n["default"].use(b.a),n["default"].use(_["a"]),new n["default"]({render:function(e){return e(g)}}).$mount("#app")},"5a0a":function(e,t,s){"use strict";var n=s("f24c"),o=s.n(n);o.a},c21b:function(e,t,s){},f24c:function(e,t,s){}});
//# sourceMappingURL=app.6e92158c.js.map