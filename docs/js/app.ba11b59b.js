(function(e){function t(t){for(var n,r,a=t[0],l=t[1],c=t[2],d=0,m=[];d<a.length;d++)r=a[d],o[r]&&m.push(o[r][0]),o[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(m.length)m.shift()();return i.push.apply(i,c||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],n=!0,a=1;a<s.length;a++){var l=s[a];0!==o[l]&&(n=!1)}n&&(i.splice(t--,1),e=r(r.s=s[0]))}return e}var n={},o={app:0},i=[];function r(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=n,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(s,n,function(t){return e[t]}.bind(null,n));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var u=l;i.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";var n=s("c21b"),o=s.n(n);o.a},"0d93":function(e,t,s){"use strict";var n=s("e840"),o=s.n(n);o.a},5:function(e,t){},"56d7":function(e,t,s){"use strict";s.r(t);s("cadf"),s("551c"),s("097d");var n=s("2b0e"),o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("md-app",{staticClass:"md-app",attrs:{id:"app"}},[s("md-app-toolbar",{staticClass:"md-accent"},[s("div",{staticClass:"md-toolbar-row"},[s("div",{staticClass:"md-toolbar-section-start"},[s("span",{staticClass:"md-title"},[e._v("Github Multiple Issues")])]),s("div",{staticClass:"md-toolbar-section-end"},[s("img",{staticStyle:{height:"64px"},attrs:{src:"logo.png",alt:"logo"}})])])]),s("md-app-content",[s("Issues"),s("span",{staticClass:"version"},[e._v(e._s(e.version))])],1)],1)},i=[],r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{},[s("div",{staticClass:"md-layout"},[s("div",{staticClass:"md-layout"},[s("div",{staticClass:"md-layout-item"},[s("md-field",[s("label",{attrs:{for:"movie"}},[e._v("Org / User")]),s("md-select",{model:{value:e.orgOrUser,callback:function(t){e.orgOrUser=t},expression:"orgOrUser"}},[s("md-option",{attrs:{value:"orgs"}},[e._v("Organization")]),s("md-option",{attrs:{value:"users"}},[e._v("User")])],1)],1)],1),s("div",{staticClass:"md-layout-item"},[s("md-field",[s("label",[e._v("Name")]),s("md-input",{model:{value:e.orgName,callback:function(t){e.orgName=t},expression:"orgName"}})],1)],1),s("div",{staticClass:"md-layout-item"},[s("md-field",[s("label",[e._v("Username")]),s("md-input",{model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1)],1),s("div",{staticClass:"md-layout-item"},[s("md-field",[s("label",[e._v("Password or Token")]),s("md-input",{attrs:{type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1)])]),s("div",{staticClass:"md-layout"},[s("div",{staticClass:"md-layout-item"},[s("md-content",[e.fetchingRepoLoading||0!==Object.keys(e.repo_list).length?e._e():s("span",[e._v("No repositories found")]),e._l(e.repo_list,function(t,n){return e.fetchingRepoLoading?e._e():s("div",{key:n,staticStyle:{"text-align":"left","padding-left":"10px"}},[s("md-switch",{attrs:{value:"1"},model:{value:e.selected[n],callback:function(t){e.$set(e.selected,n,t)},expression:"selected[i]"}},[e._v(e._s(t.full_name)+" ")]),s("a",{staticStyle:{float:"right"},attrs:{href:"https://www.github.com/"+t.full_name,target:"_blank"}},[s("md-icon",[e._v("open_in_new")])],1)],1)}),e.fetchingRepoLoading?s("md-progress-spinner",{attrs:{"md-mode":"indeterminate"}}):e._e()],2)],1),s("div",{staticClass:"md-layout-item"},[s("md-content",[s("md-field",[s("label",[e._v("Title")]),s("md-input",{model:{value:e.issue.title,callback:function(t){e.$set(e.issue,"title",t)},expression:"issue.title"}})],1),s("md-field",[s("label",[e._v("Description")]),s("md-textarea",{model:{value:e.issue.body,callback:function(t){e.$set(e.issue,"body",t)},expression:"issue.body"}})],1),s("md-chips",{attrs:{"md-placeholder":"Add labels..."},model:{value:e.issue.labels,callback:function(t){e.$set(e.issue,"labels",t)},expression:"issue.labels"}}),e._l(e.selectedRepos,function(t,n){return s("div",{key:n},[s("md-field",[s("label",[e._v("Milestone "+e._s(t.full_name))]),s("md-select",{model:{value:e.overrideMilestone[n],callback:function(t){e.$set(e.overrideMilestone,n,t)},expression:"overrideMilestone[repoId]"}},[s("md-option",{attrs:{value:""}},[e._v("None")]),e._l(e.repoMilestones[n],function(t,n){return s("md-option",{key:n,attrs:{value:t.number,"md-dense":""}},[e._v(e._s(t.title))])})],2)],1)],1)}),s("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:e.disableSave},on:{click:function(t){e.addIssue()}}},[e._v("Save")])],2)],1)]),e._l(e.results,function(t,n){return s("md-card",{key:n},[s("md-card-media",{attrs:{"md-position":"center","md-duration":t.duration,"md-active.sync":"true"}},[t.hasOwnProperty("success")?s("md-icon",{style:t.success?"color: green":"color:red"},[e._v(e._s(t.success?"check":"clear"))]):e._e(),s("span",{domProps:{innerHTML:e._s(t.message)}})],1)],1)})],2)},a=[],l=(s("f751"),s("a481"),s("ac6a"),s("456d"),s("7f7f"),{name:"",props:{msg:String},data:function(){return{orgsTimeout:!1,repo_list:{},selected:{},issue:{title:"",body:"",labels:[]},overrideMilestone:{},isSubmitting:!1,fetchingRepoLoading:!0,results:{},repoMilestones:{},orgOrUser:"orgs",orgName:"",username:"",password:""}},watch:{orgOrUser:function(e){localStorage.setItem("orgOrUser",e),this.fetchRepos()},orgName:function(e){localStorage.setItem("orgName",e),this.fetchRepos()},username:function(e){localStorage.setItem("username",e)},password:function(e){localStorage.setItem("password",e)}},computed:{selectedRepos:function(){var e={};for(var t in this.selected)this.selected[t]&&(e[t]=this.repo_list[t],this.fetchMilestones(t,e[t].owner.login,e[t].name));return e},disableSave:function(){return this.isSubmitting||0===Object.keys(this.selected).length||""===this.issue.title.trim()}},methods:{fetchMilestones:function(e,t,s){var n=this;this.$http.get("https://api.github.com/repos/".concat(t,"/").concat(s,"/milestones")).then(function(e){return e.json()},function(e){return[]}).then(function(t){n.$set(n.repoMilestones,e,t)})},addIssue:function(){var e=this;this.$set(this,"results",{}),this.isSubmitting=!0;var t="Basic ".concat(btoa(this.username+":"+this.password)),s="https://api.github.com/repos/%repoOwner/%repoName/issues",n=function(n){if(!e.selected[n])return"continue";var o=e.repo_list[n];e.$set(e.results,n,{message:"Saving issue to ".concat(o.full_name)});var i=o.owner.login,r=o.name,a=s.replace("%repoOwner",i).replace("%repoName",r),l=function(t){t=t||3500,setTimeout(function(){e.$delete(e.results,n),e.isSubmitting=!1},t)},c=Object.assign({},e.issue);e.overrideMilestone[n]&&(c.milestone=e.overrideMilestone[n]),e.$http.post(a,c,{headers:{Authorization:t}}).then(function(t){t.json().then(function(t){e.$set(e.results,n,{success:!0,message:'Successfully saved issue <a target="_blank" href="'.concat(t.html_url,'">#').concat(t.number,"</a> to ").concat(o.full_name)}),l(7500)})}).catch(function(t){t.json().then(function(t){e.$set(e.results,n,{success:!1,message:"There was an error saving issue to ".concat(o.full_name," ").concat(t.message)}),l(1e4)})})};for(var o in this.selected)n(o)},fetchRepos:function(){var e=this;this.fetchingRepoLoading=!0,clearTimeout(this.orgsTimeout),this.orgsTimeout=setTimeout(function(){e.orgName?e.$http.get("https://api.github.com/".concat(e.orgOrUser,"/").concat(e.orgName,"/repos")).then(function(e){return e.json()},function(){return[]}).then(function(t){var s={};t.forEach(function(e){s[e.id]=e}),e.$set(e,"repo_list",s),e.fetchingRepoLoading=!1}):e.fetchingRepoLoading=!1},500)}},mounted:function(){this.orgOrUser=localStorage.getItem("orgOrUser")||"orgs",this.orgName=localStorage.getItem("orgName")||"",this.username=localStorage.getItem("username")||"",this.password=localStorage.getItem("password")||"",this.fetchRepos()}}),c=l,u=(s("0d93"),s("2877")),d=Object(u["a"])(c,r,a,!1,null,"0ec691e0",null);d.options.__file="Issues.vue";var m=d.exports,p=s("9224"),f={name:"app",components:{Issues:m},computed:{version:function(){return p["a"]}}},g=f,v=(s("034f"),Object(u["a"])(g,o,i,!1,null,null,null));v.options.__file="App.vue";var h=v.exports,b=s("43f9"),_=s.n(b),y=(s("51de"),s("0759"),s("28dd"));n["default"].config.productionTip=!1,n["default"].use(_.a),n["default"].use(y["a"]),new n["default"]({render:function(e){return e(h)}}).$mount("#app")},9224:function(e){e.exports={a:"0.1.3"}},c21b:function(e,t,s){},e840:function(e,t,s){}});
//# sourceMappingURL=app.ba11b59b.js.map